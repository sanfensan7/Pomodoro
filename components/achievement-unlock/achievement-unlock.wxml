<view class="achievement-unlock-overlay {{show ? 'show' : ''}}" bindtap="hideUnlock">
  <view class="achievement-unlock-container" catchtap="">
    <!-- èƒŒæ™¯ç²’å­æ•ˆæœ -->
    <view class="particles">
      <view class="particle" wx:for="{{20}}" wx:key="*this" 
            style="animation-delay: {{index * 0.1}}s; left: {{Math.random() * 100}}%; top: {{Math.random() * 100}}%"></view>
    </view>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <view class="unlock-content">
      <!-- æˆå°±å›¾æ ‡ -->
      <view class="achievement-icon-large {{achievement.rarity}}-glow">
        <view class="icon-inner">{{achievement.icon}}</view>
        <view class="icon-ring"></view>
        <view class="icon-pulse"></view>
      </view>
      
      <!-- æˆå°±ä¿¡æ¯ -->
      <view class="achievement-details">
        <view class="unlock-title">ğŸ‰ æˆå°±è§£é”ï¼</view>
        <view class="achievement-name">{{achievement.title}}</view>
        <view class="achievement-desc">{{achievement.description}}</view>
        
        <!-- å¾½ç«  -->
        <view class="achievement-badges">
          <view class="badge rarity-{{achievement.rarity}}">{{rarityText}}</view>
          <view class="badge difficulty-{{achievement.difficulty}}">{{difficultyText}}</view>
        </view>
        
        <!-- å¥–åŠ± -->
        <view class="reward-section">
          <view class="reward-item">
            <text class="reward-icon">ğŸŒŸ</text>
            <text class="reward-text">+{{achievement.expReward}} ç»éªŒå€¼</text>
          </view>
          <block wx:if="{{achievement.rewards && achievement.rewards.length > 1}}">
            <view class="reward-item" wx:for="{{achievement.rewards}}" wx:key="type" wx:if="{{item.type !== 'exp'}}">
              <text class="reward-icon">{{item.type === 'title' ? 'ğŸ…' : 'ğŸ¨'}}</text>
              <text class="reward-text">{{item.description}}</text>
            </view>
          </block>
        </view>
      </view>
      
      <!-- ç¡®è®¤æŒ‰é’® -->
      <view class="confirm-button" bindtap="hideUnlock">
        <text>å¤ªæ£’äº†ï¼</text>
      </view>
    </view>
    
    <!-- åº†ç¥æ•ˆæœ -->
    <view class="celebration">
      <view class="firework" wx:for="{{6}}" wx:key="*this" 
            style="animation-delay: {{index * 0.2}}s; left: {{20 + index * 12}}%"></view>
    </view>
  </view>
</view>

<wxs module="Math">
  module.exports = {
    random: function() {
      return Math.random();
    }
  };
</wxs>
