<view class="container" style="--theme-color: {{themeColor}}; --theme-color-rgb: {{themeColorRGB}};">
  <view class="header">
    <navigator url="/pages/focus/focus" open-type="navigate" hover-class="none">
      <view class="back-icon">
        <image src="/images/back.png" mode="aspectFit"></image>
      </view>
    </navigator>
    <text class="title">è®¾ç½®</text>
  </view>
  
  <view class="settings-group">
    <view class="settings-title">æ—¶é—´è®¾ç½®</view>
    
    <view class="settings-item">
      <view class="item-label">ä¸“æ³¨æ—¶é•¿</view>
      <view class="item-value">
        <picker bindchange="changeFocusDuration" value="{{focusDurationIndex}}" range="{{durationOptions}}">
          <view class="picker">{{durationOptions[focusDurationIndex]}} åˆ†é’Ÿ</view>
        </picker>
      </view>
    </view>
    
    <view class="settings-item">
      <view class="item-label">çŸ­ä¼‘æ¯æ—¶é•¿</view>
      <view class="item-value">
        <picker bindchange="changeShortBreakDuration" value="{{shortBreakDurationIndex}}" range="{{breakOptions}}">
          <view class="picker">{{breakOptions[shortBreakDurationIndex]}} åˆ†é’Ÿ</view>
        </picker>
      </view>
    </view>
    
    <view class="settings-item">
      <view class="item-label">é•¿ä¼‘æ¯æ—¶é•¿</view>
      <view class="item-value">
        <picker bindchange="changeLongBreakDuration" value="{{longBreakDurationIndex}}" range="{{breakOptions}}">
          <view class="picker">{{breakOptions[longBreakDurationIndex]}} åˆ†é’Ÿ</view>
        </picker>
      </view>
    </view>
    
    <view class="settings-item">
      <view class="item-label">é•¿ä¼‘æ¯é—´éš”</view>
      <view class="item-value">
        <picker bindchange="changeLongBreakInterval" value="{{longBreakIntervalIndex}}" range="{{intervalOptions}}">
          <view class="picker">{{intervalOptions[longBreakIntervalIndex]}} ä¸ªä¸“æ³¨</view>
        </picker>
      </view>
    </view>
  </view>
  
  <view class="settings-group">
    <view class="settings-title">è‡ªåŠ¨åŒ–è®¾ç½®</view>

    <view class="settings-item">
      <view class="item-label">è‡ªåŠ¨å¼€å§‹ä¼‘æ¯</view>
      <view class="item-value">
        <switch checked="{{autoStartBreak}}" bindchange="toggleAutoStartBreak" color="{{themeColor}}"/>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">ä¼‘æ¯åè‡ªåŠ¨å¼€å§‹ä¸“æ³¨</view>
      <view class="item-value">
        <switch checked="{{autoStartFocus}}" bindchange="toggleAutoStartFocus" color="{{themeColor}}"/>
      </view>
    </view>
  </view>

  <view class="settings-group">
    <view class="settings-title">æé†’è®¾ç½®</view>

    <view class="settings-item">
      <view class="item-label">éœ‡åŠ¨æé†’</view>
      <view class="item-value">
        <switch checked="{{vibrateEnabled}}" bindchange="toggleVibrate" color="{{themeColor}}"/>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">å¼¹çª—æé†’</view>
      <view class="item-value">
        <switch checked="{{popupEnabled}}" bindchange="togglePopup" color="{{themeColor}}"/>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">æé†’é‡å¤æ¬¡æ•°</view>
      <view class="item-value">
        <picker mode="selector"
                range="{{repeatOptions}}"
                value="{{repeatIndex}}"
                bindchange="changeRepeatCount">
          <text class="picker-text">{{repeatOptions[repeatIndex]}}</text>
          <text class="item-arrow">></text>
        </picker>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">æé†’é—´éš”</view>
      <view class="item-value">
        <picker mode="selector"
                range="{{reminderIntervalOptions}}"
                range-key="name"
                value="{{reminderIntervalIndex}}"
                bindchange="changeReminderInterval">
          <text class="picker-text">{{reminderIntervalOptions[reminderIntervalIndex].name}}</text>
          <text class="item-arrow">></text>
        </picker>
      </view>
    </view>
  </view>

  <view class="settings-group">
    <view class="settings-title">æ¸¸æˆåŒ–</view>

    <navigator url="/pages/achievements/achievements" hover-class="none">
      <view class="settings-item">
        <view class="item-label">æˆå°±ç³»ç»Ÿ</view>
        <view class="item-value">
          <text class="item-arrow">></text>
        </view>
      </view>
    </navigator>
  </view>
  
  <view class="settings-group">
    <view class="settings-title">ä¸»é¢˜è®¾ç½®</view>
    
    <view class="theme-options">
      <view class="theme-option {{currentTheme === 'red' ? 'active' : ''}}" 
            style="background-color: #ff6b6b;" 
            data-color="#ff6b6b" 
            data-theme="red" 
            bindtap="changeTheme"></view>
      <view class="theme-option {{currentTheme === 'blue' ? 'active' : ''}}" 
            style="background-color: #5b87fa;" 
            data-color="#5b87fa" 
            data-theme="blue" 
            bindtap="changeTheme"></view>
      <view class="theme-option {{currentTheme === 'green' ? 'active' : ''}}" 
            style="background-color: #4acf50;" 
            data-color="#4acf50" 
            data-theme="green" 
            bindtap="changeTheme"></view>
      <view class="theme-option {{currentTheme === 'purple' ? 'active' : ''}}" 
            style="background-color: #9d54bb;" 
            data-color="#9d54bb" 
            data-theme="purple" 
            bindtap="changeTheme"></view>
      <view class="theme-option {{currentTheme === 'orange' ? 'active' : ''}}" 
            style="background-color: #ff9b21;" 
            data-color="#ff9b21" 
            data-theme="orange" 
            bindtap="changeTheme"></view>
    </view>
  </view>
  
  <view class="settings-group">
    <view class="settings-title">è®¡æ—¶å™¨æ ·å¼</view>
    
    <view class="timer-style-options">
      <view class="timer-style {{timerStyle === 'circle' ? 'active' : ''}}" 
            style="border-color: {{timerStyle === 'circle' ? themeColor : '#ddd'}}"
            data-style="circle" 
            bindtap="changeTimerStyle">
        <view class="timer-style-circle" style="border-color: {{themeColor}}; background-color: {{timerStyle === 'circle' ? themeColor : '#fff'}}"></view>
        <view class="timer-style-label">ç¯å½¢</view>
      </view>
      <view class="timer-style {{timerStyle === 'line' ? 'active' : ''}}" 
            style="border-color: {{timerStyle === 'line' ? themeColor : '#ddd'}}"
            data-style="line" 
            bindtap="changeTimerStyle">
        <view class="timer-style-line" style="background-color: {{timerStyle === 'line' ? themeColor : '#ddd'}}"></view>
        <view class="timer-style-label">ç›´çº¿</view>
      </view>
      <view class="timer-style {{timerStyle === 'minimal' ? 'active' : ''}}" 
            style="border-color: {{timerStyle === 'minimal' ? themeColor : '#ddd'}}"
            data-style="minimal" 
            bindtap="changeTimerStyle">
        <view class="timer-style-minimal" style="color: {{timerStyle === 'minimal' ? themeColor : '#999'}}">25:00</view>
        <view class="timer-style-label">æç®€</view>
      </view>
    </view>
  </view>
  
  <view class="settings-group">
    <view class="settings-title">å…³äº</view>

    <view class="settings-item">
      <view class="item-label">ç‰ˆæœ¬</view>
      <view class="item-value" style="color: {{themeColor}}">1.2.0</view>
    </view>

    <view class="settings-item" bindtap="shareToFriend">
      <view class="item-label">
        <text class="share-icon">ğŸ“¤</text>
        <text>åˆ†äº«ç»™å¥½å‹</text>
      </view>
      <view class="item-value">
        <text class="item-arrow">></text>
      </view>
    </view>

    <button class="feedback-btn" open-type="feedback">æ„è§åé¦ˆ</button>
  </view>
</view> 